package com.study.locationawareapp.ui.directions;

import androidx.lifecycle.LiveData;

import com.study.locationawareapp.ui.api.CustomJSONParser;

import org.osmdroid.util.GeoPoint;

import java.util.ArrayList;
import java.util.HashMap;

public class DirectionModel {
    private Route route;

    public DirectionModel() {
        //todo remove this
        String data = "{\"type\":\"FeatureCollection\",\"features\":[{\"bbox\":[4.792502,51.57912,4.885225,51.700163],\"type\":\"Feature\",\"properties\":{\"segments\":[{\"distance\":20279.7,\"duration\":1256.6,\"steps\":[{\"distance\":1347.5,\"duration\":140.4,\"type\":11,\"instruction\":\"Head east on Claudius Prinsenlaan\",\"name\":\"Claudius Prinsenlaan\",\"way_points\":[0,34]},{\"distance\":1561.7,\"duration\":142.9,\"type\":0,\"instruction\":\"Turn left\",\"name\":\"-\",\"way_points\":[34,60]},{\"distance\":1159.5,\"duration\":46.4,\"type\":3,\"instruction\":\"Turn sharp right\",\"name\":\"-\",\"way_points\":[60,83]},{\"distance\":4868.4,\"duration\":194.7,\"type\":6,\"instruction\":\"Continue straight onto A27\",\"name\":\"A27\",\"way_points\":[83,112]},{\"distance\":2952.9,\"duration\":116.6,\"type\":13,\"instruction\":\"Keep right\",\"name\":\"-\",\"way_points\":[112,146]},{\"distance\":4079.5,\"duration\":163.2,\"type\":12,\"instruction\":\"Keep left onto A27\",\"name\":\"A27\",\"way_points\":[146,163]},{\"distance\":452.5,\"duration\":41.7,\"type\":13,\"instruction\":\"Keep right\",\"name\":\"-\",\"way_points\":[163,176]},{\"distance\":426.7,\"duration\":42.3,\"type\":0,\"instruction\":\"Turn left onto Maasroute, A59\",\"name\":\"Maasroute, A59\",\"way_points\":[176,188]},{\"distance\":383.3,\"duration\":27.6,\"type\":13,\"instruction\":\"Keep right\",\"name\":\"-\",\"way_points\":[188,198]},{\"distance\":890.2,\"duration\":76.3,\"type\":7,\"instruction\":\"Enter the roundabout and take the 3rd exit onto Eendrachtsweg\",\"name\":\"Eendrachtsweg\",\"exit_number\":3,\"way_points\":[198,227]},{\"distance\":210.8,\"duration\":30.1,\"type\":7,\"instruction\":\"Enter the roundabout and take the 1st exit onto Eendrachtsweg\",\"name\":\"Eendrachtsweg\",\"exit_number\":1,\"way_points\":[227,240]},{\"distance\":1329.8,\"duration\":117.5,\"type\":7,\"instruction\":\"Enter the roundabout and take the 2nd exit onto Monnikenweg\",\"name\":\"Monnikenweg\",\"exit_number\":2,\"way_points\":[240,286]},{\"distance\":346.2,\"duration\":52.0,\"type\":1,\"instruction\":\"Turn right onto Oude Stadsweg\",\"name\":\"Oude Stadsweg\",\"way_points\":[286,299]},{\"distance\":81.2,\"duration\":19.5,\"type\":0,\"instruction\":\"Turn left onto Mauritsweg\",\"name\":\"Mauritsweg\",\"way_points\":[299,302]},{\"distance\":133.0,\"duration\":31.9,\"type\":0,\"instruction\":\"Turn left onto Rijakkers\",\"name\":\"Rijakkers\",\"way_points\":[302,306]},{\"distance\":5.7,\"duration\":1.4,\"type\":0,\"instruction\":\"Turn left onto Buitenvest\",\"name\":\"Buitenvest\",\"way_points\":[306,307]},{\"distance\":50.8,\"duration\":12.2,\"type\":1,\"instruction\":\"Turn right onto Buitenvest\",\"name\":\"Buitenvest\",\"way_points\":[307,308]},{\"distance\":0.0,\"duration\":0.0,\"type\":10,\"instruction\":\"Arrive at Buitenvest, on the left\",\"name\":\"-\",\"way_points\":[308,308]}]}],\"summary\":{\"distance\":20279.7,\"duration\":1256.6},\"way_points\":[0,308]},\"geometry\":{\"coordinates\":[[4.792502,51.586469],[4.793349,51.586425],[4.793877,51.586396],[4.794776,51.58632],[4.795139,51.586272],[4.796254,51.58616],[4.796555,51.586126],[4.796803,51.5861],[4.79811,51.58594],[4.7985,51.58586],[4.79896,51.58574],[4.79949,51.58557],[4.8003,51.58524],[4.800545,51.585117],[4.80072,51.58503],[4.80098,51.58488],[4.801775,51.58431],[4.801899,51.584193],[4.801984,51.584113],[4.802075,51.584027],[4.802194,51.583885],[4.802302,51.58377],[4.802578,51.583416],[4.803335,51.582388],[4.803973,51.581532],[4.804017,51.581466],[4.804114,51.581324],[4.804212,51.581162],[4.804785,51.580396],[4.804891,51.580257],[4.805027,51.58008],[4.805237,51.579805],[4.805409,51.579577],[4.805572,51.579333],[4.805714,51.57912],[4.805932,51.579173],[4.80608,51.579209],[4.806426,51.579339],[4.807396,51.579832],[4.807928,51.580095],[4.808264,51.58025],[4.80916,51.580618],[4.809991,51.580886],[4.810765,51.5811],[4.811497,51.581259],[4.812417,51.58144],[4.814571,51.581787],[4.816805,51.582029],[4.817738,51.58209],[4.818466,51.582127],[4.81951,51.582168],[4.820665,51.582202],[4.821046,51.582207],[4.821226,51.582204],[4.822398,51.582171],[4.82315,51.582125],[4.82443,51.582035],[4.825157,51.581983],[4.826319,51.581886],[4.826807,51.581831],[4.827113,51.581792],[4.826878,51.581556],[4.82649,51.581168],[4.826286,51.580978],[4.826077,51.580844],[4.825887,51.580766],[4.825704,51.580719],[4.825242,51.580665],[4.824955,51.580672],[4.824657,51.580738],[4.824399,51.58088],[4.824277,51.580981],[4.824174,51.581117],[4.824094,51.581253],[4.824038,51.581405],[4.823981,51.581706],[4.823952,51.582299],[4.824142,51.583447],[4.824377,51.584469],[4.824494,51.584877],[4.824828,51.585881],[4.825079,51.586486],[4.825759,51.587894],[4.826282,51.588774],[4.826506,51.58913],[4.827015,51.589881],[4.827571,51.590619],[4.82851,51.5917],[4.829394,51.592646],[4.829843,51.593076],[4.830726,51.593863],[4.833403,51.596085],[4.834368,51.596926],[4.834941,51.597398],[4.837067,51.59915],[4.837975,51.599874],[4.838863,51.600553],[4.840332,51.601592],[4.841132,51.60211],[4.844203,51.603906],[4.850154,51.607282],[4.850814,51.607706],[4.851916,51.608453],[4.852964,51.609218],[4.853656,51.609756],[4.854737,51.610657],[4.85559,51.61142],[4.85695,51.61275],[4.858512,51.614358],[4.86189,51.617822],[4.866291,51.622334],[4.866966,51.623025],[4.867764,51.623812],[4.86827,51.62416],[4.869195,51.624906],[4.869631,51.62522],[4.86995,51.625392],[4.87016,51.625512],[4.870392,51.625648],[4.871067,51.62614],[4.871537,51.626553],[4.871574,51.626585],[4.871656,51.626674],[4.871718,51.62673],[4.871877,51.626927],[4.872136,51.627406],[4.872267,51.627569],[4.873357,51.628706],[4.873611,51.629004],[4.873997,51.629373],[4.874619,51.629915],[4.878047,51.632924],[4.88028,51.634904],[4.880933,51.635464],[4.881518,51.636086],[4.881947,51.636627],[4.882416,51.637365],[4.882661,51.637819],[4.883041,51.638894],[4.883125,51.63933],[4.883194,51.639887],[4.883178,51.640523],[4.883171,51.640637],[4.883134,51.641238],[4.883038,51.642798],[4.88282,51.645318],[4.88267,51.64745],[4.882499,51.649759],[4.882315,51.652374],[4.882123,51.65416],[4.881959,51.655452],[4.880069,51.668158],[4.879911,51.669522],[4.879808,51.670853],[4.879797,51.671643],[4.879852,51.672967],[4.879986,51.673858],[4.880206,51.674956],[4.88045,51.675875],[4.881459,51.679339],[4.882282,51.681993],[4.882529,51.682792],[4.8827,51.683348],[4.882874,51.683902],[4.883428,51.684836],[4.88368,51.685212],[4.884205,51.685778],[4.884262,51.685834],[4.884455,51.686015],[4.885002,51.686499],[4.88512,51.686649],[4.88521,51.686845],[4.885225,51.686967],[4.885165,51.687195],[4.885111,51.687296],[4.884994,51.687509],[4.884946,51.687587],[4.884648,51.687559],[4.884207,51.687486],[4.883574,51.687373],[4.882843,51.68724],[4.882535,51.687194],[4.882197,51.687138],[4.88197,51.687094],[4.881685,51.68704],[4.881276,51.686958],[4.880757,51.686845],[4.880101,51.686693],[4.879032,51.686467],[4.878657,51.686463],[4.87698,51.686296],[4.876666,51.686333],[4.876563,51.686361],[4.876414,51.686436],[4.876343,51.686488],[4.87624,51.68662],[4.876022,51.68725],[4.875808,51.688082],[4.875807,51.688153],[4.875876,51.688173],[4.875974,51.688249],[4.875989,51.688305],[4.875982,51.688341],[4.875912,51.688414],[4.875843,51.688446],[4.875787,51.688453],[4.875715,51.688455],[4.875636,51.688442],[4.87552,51.688373],[4.875495,51.688325],[4.875354,51.688307],[4.874681,51.68822],[4.874034,51.68811],[4.873859,51.688064],[4.872166,51.687839],[4.870855,51.687639],[4.870436,51.687601],[4.870018,51.687588],[4.869637,51.687603],[4.869114,51.687665],[4.868661,51.687756],[4.867426,51.688091],[4.866949,51.688172],[4.866594,51.688213],[4.866232,51.688234],[4.865782,51.68823],[4.865234,51.688211],[4.863959,51.688192],[4.86391,51.688237],[4.863838,51.688269],[4.863753,51.688284],[4.863669,51.68842],[4.863597,51.688571],[4.863361,51.688856],[4.86326,51.688982],[4.86314,51.689123],[4.862827,51.689374],[4.862705,51.689472],[4.862591,51.689581],[4.862445,51.689687],[4.862337,51.689757],[4.862351,51.689802],[4.862341,51.689848],[4.862307,51.689889],[4.862264,51.689916],[4.86221,51.689934],[4.862142,51.689943],[4.862073,51.689939],[4.86201,51.689921],[4.861643,51.690041],[4.861141,51.690175],[4.860717,51.690269],[4.859912,51.690411],[4.859295,51.690578],[4.85881,51.690774],[4.858547,51.690916],[4.85824,51.691134],[4.857882,51.691437],[4.857784,51.691546],[4.857512,51.691972],[4.85735,51.692435],[4.857389,51.692936],[4.857404,51.693445],[4.857466,51.694278],[4.857438,51.694757],[4.85733,51.695101],[4.857166,51.695396],[4.856784,51.695862],[4.856648,51.696018],[4.856327,51.69639],[4.856195,51.696543],[4.856155,51.69663],[4.855961,51.697009],[4.855828,51.697184],[4.855767,51.697239],[4.855695,51.697299],[4.85554,51.697397],[4.855212,51.697529],[4.85493,51.697598],[4.854683,51.697625],[4.854389,51.697633],[4.85417,51.697642],[4.85331,51.697643],[4.85309,51.697632],[4.852774,51.6976],[4.852337,51.697493],[4.852042,51.697414],[4.851987,51.69751],[4.851707,51.697904],[4.851592,51.698004],[4.85147,51.69808],[4.85105,51.69833],[4.85084,51.69856],[4.850777,51.698673],[4.850422,51.699334],[4.85037,51.69941],[4.850267,51.699542],[4.850015,51.699878],[4.849837,51.70013],[4.849822,51.700163],[4.849488,51.700109],[4.848983,51.700028],[4.848682,51.699979],[4.848672,51.699265],[4.84866,51.699002],[4.848614,51.698906],[4.848527,51.6988],[4.848594,51.69877],[4.84832,51.698346]],\"type\":\"LineString\"}}],\"bbox\":[4.792502,51.57912,4.885225,51.700163],\"metadata\":{\"attribution\":\"openrouteservice.org | OpenStreetMap contributors\",\"service\":\"routing\",\"timestamp\":1611070705547,\"query\":{\"coordinates\":[[4.792474596380951,51.58626452406283],[4.848516265445718,51.69829702940982]],\"profile\":\"driving-car\",\"format\":\"geojson\"},\"engine\":{\"version\":\"6.3.1\",\"build_date\":\"2020-12-10T15:35:43Z\",\"graph_date\":\"1970-01-01T00:00:00Z\"}}}";
        route = CustomJSONParser.RouteParser(data);
    }

    public void setRoute(Route route) {
        this.route = route;
    }

    public HashMap<Integer,GeoPoint> getCoordinates() {
        if (this.route.getCoordinates() == null)
            return new HashMap<>();

        return this.route.getCoordinates();
    }

    public ArrayList<Step> getSteps() {
        if (this.route.getSteps() == null)
            return new ArrayList<>();

        return this.route.getSteps();
    }

    public Route getRoute() {
        return route;
    }
}
